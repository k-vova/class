<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Однокласники</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
  body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #e0e0e0, #a0a0a0);
      margin: 0;
      padding: 0;
    }
    header {
      background: rgb(62, 111, 235);
      padding: 15px;
      text-align: center;
    }
    .rainbow-text {
      font-size: 2rem;
      font-weight: bold;
      background: linear-gradient(
        270deg,
        #93f584,
        #46d63e,
        #1dc32b,
        #12982f,
        #04e82a,
        #84e43a,
        #60ea7e
      );
      background-size: 1200% 1200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      animation: rainbow 30s ease infinite;
    }
    @keyframes rainbow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      background: #f8f8f8;
      padding: 10px;
    }
    nav button {
      padding: 8px 12px;
      border: 3px solid #ccc;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      transition: 0.3s;
    }
    nav button.active {
      background: #5b74b1;
      color: white;
      border-color: #5c79bd;
    }
    .page {
      display: none;
      max-width: 1000px;
      margin: 20px auto;
      padding: 10px;
    }
    .page.active { display: block; }
    .gallery {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
    }
    .gallery img {
      width: 100%;
      border-radius: 10px;
      object-fit: cover;
      cursor: pointer;
      transition: transform 0.2s;
      background: white;
      padding: 10px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.3);
      transform: rotate(-2deg);
    }
    .gallery img:nth-child(even) {
      transform: rotate(2deg);
    }
    .gallery img:hover {
      transform: scale(1.05);
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 10, 10, 0.95);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 90%;
      max-height: 90%;
    }
    .modal img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.7);
    }
    .controls {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }
    .controls button {
      background: #5b74b1;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    .controls button:hover {
      background: #4a62a0;
    }
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    }
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    @media (max-width: 768px) {
      .menu { flex-direction: column; }
      .prev { left: 10px; }
      .next { right: 10px; }
    }
    @media (max-width: 480px) {
      h1 { font-size: 1.3rem; }
      .gallery { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
    }
  </style>
</head>
<body>
  <header>
    <h1 class="rainbow-text">Однокласники. Випуск Ульянівської середньої школи №2 — 1987 рік</h1>
  </header>

  <nav id="menu" class="menu" aria-label="Головне меню"></nav>
  <main id="content"></main>

  <div id="modal" class="modal" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <img id="modalImg">
      <div class="controls">
        <button onclick="prevImage(event)">⟵</button>
        <button onclick="toggleSlideshow()">
          <span id="slideshowStatus">▶️ Слайдшоу</span>
        </button>
        <button onclick="closeModal()">Закрити ✖</button>
        <button onclick="nextImage(event)">⟶</button>
      </div>
    </div>
  </div>

<script>
  const PAGES = [
      { id: 'kindergarten', name: 'Дитячий садочок', photos: Array.from({length: 11}, (_,i)=>`img/Дитячий садочок/${i+1}.jpg`) },
      { id: 'school-days', name: 'Шкільні будні', photos: Array.from({length: 41}, (_,i)=>`img/Шкільні будні/${i+1}.jpg`) },
      { id: 'group-photos', name: 'Колективні фото', photos: Array.from({length: 11}, (_,i)=>`img/Колективні фото/${i+1}.jpg`) },
      { id: 'excursions', name: 'Екскурсії', photos: Array.from({length: 22}, (_,i)=>`img/Екскурсії/${i+1}.jpg`) },
      { id: 'meet97-07', name: 'Зустріч 1997-2007р', photos: Array.from({length: 32}, (_,i)=>`img/Зустріч 1997-2007р/${i+1}.jpg`) },
      { id: 'meet2017', name: 'Зустріч 2017р', photos: Array.from({length: 22}, (_,i)=>`img/Зустріч 2017р/${i+1}.jpg`) },
      { id: 'meet2022-25', name: 'Зустріч 2022-2025р', photos: Array.from({length: 9}, (_,i)=>`img/Зустріч 2022-2025р/${i+1}.jpg`) },
      { id: 'video', name: 'Відео', videoUrl: 'https://www.youtube.com/embed/9uBKizur3ZM' }
    ];

    const menu = document.getElementById('menu');
    const content = document.getElementById('content');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    let currentPageId = null;
    let currentIndex = 0;
    let slideshowInterval = null;

    function renderMenu(activeId) {
      menu.innerHTML = '';
      PAGES.forEach(p => {
        const btn = document.createElement('button');
        btn.textContent = p.name;
        if (p.id === activeId) btn.classList.add('active');
        btn.onclick = () => renderPage(p.id);
        menu.appendChild(btn);
      });
    }

    function renderPage(pageId) {
      renderMenu(pageId);
      currentPageId = pageId;
      const page = document.createElement('div');
      page.className = 'page active';
      const current = PAGES.find(p => p.id === pageId);

      if (current.photos) {
        const gallery = document.createElement('div');
        gallery.className = 'gallery';
        current.photos.forEach((src, idx) => addImageToGallery(src, gallery, idx, current.name));
        page.appendChild(gallery);
      }

      if (current.videoUrl) {
        const videoWrapper = document.createElement('div');
        videoWrapper.className = 'video-container';
        videoWrapper.innerHTML = `<iframe src="${current.videoUrl}" frameborder="0" allowfullscreen></iframe>`;
        page.appendChild(videoWrapper);
      }

      content.innerHTML = '';
      content.appendChild(page);
    }

    function addImageToGallery(src, gallery, idx, category) {
      const img = document.createElement('img');
      img.src = src;
      img.alt = `Фото ${idx + 1} з категорії "${category}"`;
      img.loading = "lazy";
      img.onclick = () => openModal(idx);
      gallery.appendChild(img);
    }

    function openModal(index) {
      const page = PAGES.find(p => p.id === currentPageId);
      if (!page.photos) return;
      currentIndex = index;
      modal.style.display = 'flex';
      updateModalImage();
    }

    function updateModalImage() {
      const page = PAGES.find(p => p.id === currentPageId);
      if (!page.photos) return;
      modalImg.src = page.photos[currentIndex];
    }

    function closeModal() {
      modal.style.display = 'none';
      modalImg.src = '';
      stopSlideshow();
    }

    function prevImage(event) {
      if (event) event.stopPropagation();
      const page = PAGES.find(p => p.id === currentPageId);
      if (!page.photos) return;
      currentIndex = (currentIndex - 1 + page.photos.length) % page.photos.length;
      updateModalImage();
    }

    function nextImage(event) {
      if (event) event.stopPropagation();
      const page = PAGES.find(p => p.id === currentPageId);
      if (!page.photos) return;
      currentIndex = (currentIndex + 1) % page.photos.length;
      updateModalImage();
    }

    function toggleSlideshow() {
      if (slideshowInterval) {
        stopSlideshow();
      } else {
        startSlideshow();
      }
    }

    function startSlideshow() {
      document.getElementById("slideshowStatus").textContent = "⏸ Пауза";
      slideshowInterval = setInterval(() => {
        nextImage();
      }, 3000);
    }

    function stopSlideshow() {
      document.getElementById("slideshowStatus").textContent = "▶️ Слайдшоу";
      clearInterval(slideshowInterval);
      slideshowInterval = null;
    }

    // Swipe support
    let touchStartX = 0;
    let touchEndX = 0;
    modal.addEventListener("touchstart", e => {
      touchStartX = e.changedTouches[0].screenX;
    });
    modal.addEventListener("touchend", e => {
      touchEndX = e.changedTouches[0].screenX;
      handleGesture();
    });
    function handleGesture() {
      if (touchEndX < touchStartX - 50) nextImage();
      if (touchEndX > touchStartX + 50) prevImage();
    }

    // Стартова сторінка
    renderPage(PAGES[0].id);
</script>
</body>
</html>


